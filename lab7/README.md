### Лабораторная работа 7 (Регулярные выражения)

- Вся обработка текста должна быть основана на регулярных выражениях (например, задания типа "найти...", "извлечь..." и т.д. подразумевают составление рег-го выражения для решения всей задачи). 
- Исходный текст для обработки содержится в текстовом файле и является многострочным. Весь текст сохраняется в одной переменной (= одна физическая строка), содержимое которой, таким образом, будет иметь несколько логических строк. 
- если есть описание текста типа "Символьная строка содержит...", то такой вид имеет каждая строка многострочного текста.
- В нематематическом тексте могут быть знаки переносов строки в словах.

> Не забывайте о возможности использования модификаторов поиска `/s`, `/m`, `/g`, `/gc`, `/i`, `/o`, `/x`, а также позиционной проверке. Т.е. Если можно оптимально решить с ними - решать с ними.

---

### Решить 4 задачи.

Задачи выбирать по принципу: номер варианта + 9, циклически пока не наберется 4 задачи. Например, 21, 30, 8, 17 или 1,10, 19, 28. Номер варианта - номер в списке группы.

1. В заданном текстовом файле найти все предложения и посчитать их количество. Учесть, что предложения могут заканчиваться точкой, вопросительным, восклицательным знаком и многоточием.

2. Найти в данном тексте все слова, содержащие от 2-х до 4-х гласных букв.

3. Составить регулярное выражение для записи многочленов в виде: `5x^4-21x^2+x-7`.
   - Здесь - степень многочлена не ограничена, а коэффициенты - целые.
   - Реализовать с помощью этого регулярного выражение запись коэффициентов в массив или хеш.

4. Из заданного HTML-файла извлечь все гиперссылки, формируя соответствующий массив хешей.

5. В файле записаны пронумерованные предложения. Создать соответствующий массив текстов предложений.

6. Найти сумму чисел, записанных в файле в виде:

```
Текст: число Текст: число
Текст: число Текст: число  Текст: число 
Текст: число  Текст: число 
Текст: число 
...
```

7. Символьная строка содержит натуральные числа. Найти сумму тех из них, которые не превышают 256, не прибегая к использованию оператора `if`. (Т.е. проверку выполнения неравенства осуществить с помощью регулярных выражений - по записи числа, а не по его значению.)

8. Составить регулярное выражение для записи вида: `21(x-2)(x-4)(x+21)(x+7)...(x-3)`.
Извлечь из такой текстовой строки массив корней этого многочлена.

9. В файле записаны почтовые адреса, разделенные пустыми строками. Отсортировать почтовые адреса по значению почтового индекса, составив хеш:

```
ключ -  индекс,
значение - массив соответствующих адресов.
```

10. Файл содержит список литературы в формате:

```
[12] Препарата Ф., Шеймос М. Вычислительная геометрия: Введение. М.: Наука, 1989, 478 с.
```

Составить регулярное выражение для автоматического составления хеша с ключами **number**, **authors**, **name**, **publisher**, **year**, **pages**.

11. В файле в каждой строке записано слово. Перед ударной гласной стоит знак **!**.  Для заданного текста определить последовательность ударных и безударных гласных по словарю из файла. 

12. Найти в текстовом файле первые слова всех предложений. 

13. Из текста выбрать слова, начинающиеся на **из-**, **ис-**.

14. С помощью регулярных выражений разбить текст на строки фиксированной длины.

15. В каждой строке заданного файла записаны полные пути к файлам в формате `диск:\каталог1\каталог2\...\каталогN\файл`. С помощью регулярных выражений составить хеш массивов. Ключи хеша - полные пути к каталогам, значения - списки имен файлов соответствующего каталога.

16. Из заданного текста найти пары подряд расположенных слова, таких, что окончание одного совпадает с началом другого. Совпадение учитывается для 2 и более символов. Пример:
```
лестница - цапля
время - мячик
домик - миксер
```

17.  Из XML-файла с помощью регулярных выражений составить хеш массивов. Ключами хеша дожны быть названия тегов, а значениями массивы хешей. Каждый такой массив соответствует одному вхождению тега в файл, а элементами являются хеши с ключами-атрибутами и их значениями. Пример:

```
<img src="file.png" width=200>
...
<img src="pic.jpg" height=100>

H{img}=[{src=>'file.png', width=>'200'},{src=>'pic.jpg',height='100'}] 
```

18. Найти в тексте все *симметричные* целые числа: 11, 121, 2332, 49194, 548845.

19. По заданному тексту составить хеш. Ключи хеша - строки вида `"ccvc"`,  а значение - массив слов текста с заданноым правилом чередования гласных (v) и согласных (c).

20. Строка содержит запись вида `"34<528"`. Проверить правильность неравенства по записи чисел, а не по их значениям.

21. Не используя оператор `tr///`,  а только оператор замены `s///`  заменить в строке двоичного числа все 1 на 0, а 0 на 1. 

22. Для каждого предложения текста переставить его слова случайным образом.

23. В имени пользователя электронного почтового ящика допустимы символы `"."`. Например, следующий адрес допустим: klyachin.va@gmail.com. 
- Динамически сгенерируйте один SQL запрос на поиск в БД почтовых адресов с возможным неправильным вводом имени пользователя почтового ящика с потерей точек, а также с лишними точками, если они не нужны. 
- Так, для приведенного примера, если ошибочно введено klyachinva@gmail.com, правильный адрес  klyachin.va@gmail.com  должен быть найден SQL запросом. И наоборот, если правильным адресом является адрес без точек  klyachinva@gmail.com, а введен адрес с точками klyachin.va@gmail.com, правильный адрес также  должен быть найден этим SQL запросом.

24. В файе журнала web сервера Apache `access.log` имеются строки вида:

```
127.0.0.1 - - [20/Jan/2015:19:17:14 +0300] "GET /js/flot/examples/series-types/index.html HTTP/1.1" 200 2075
127.0.0.1 - - [20/Jan/2015:19:17:35 +0300] "GET /js/flot/examples/categories/index.html HTTP/1.1" 200 1543
```

Требуется отсортировать эти записи по IP адресам и времени запроса, записав соответствующую информацию в отдельный файл.

27. Состаивть регулярное выражение для записи химической формулы вещества в виде: `H2O`, `C2H5OH`, `NaCl`, `H2SO4`.

28. Выбрать из текста слова, содержащие шипящие звуки. 

29. Найти в текстовом файле первые слова каждой строки. 

30. Выбрать из текста слова, содержащие только глухие согласные. 

31. Для двух заданных слов средствами регулярных выражений найти максимальное совпадение окончания первого слова и начало второго. Например, для слов "пруд"  и "руда" мы получаем "руд", для слов  "удача" и "часы" мы получаем  "ча".


